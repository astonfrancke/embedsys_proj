/**
  ******************************************************************************
  * @file           : usb_com_test.c
  * @brief          : usb_com_test.c file.
  *                   This file tests the functions of the usb_com.c file.
  * @author			: Carl Aston Francke
  * @version		: 1.0
  * @date			: 28-November-2019
  ******************************************************************************
  */

#include "usb_com_test.h"

/**
 * *****************************************************************************
 * @brief 	Runs the USB test functions.
 * @return 	void
 * *****************************************************************************
 */
void usb_test_program(void)
{
	lcd_init();
	test_usb_transmit();
	test_usb_receive();
}


/**
 * *****************************************************************************
 * @brief 	Tests usb_transmit function in usb_com.c.
 * @return 	void
 * *****************************************************************************
 */
void test_usb_transmit(void)
{
	static uint8_t buffer[] = "This is a test string!";
	uint16_t data_size = sizeof(buffer)/sizeof(buffer[0]);
	usb_transmit(buffer, data_size);
}

/**
 * *****************************************************************************
 * @brief 	Tests usb_receive function in usb_com.c.
 * @return 	void
 * *****************************************************************************
 */
void test_usb_receive(void)
{
	char buffer[] = usb_receive();
	lcd_set_pos(LINE1);
	lcd_write_string(buffer);
}
